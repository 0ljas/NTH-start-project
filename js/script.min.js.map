{"version":3,"sources":["global-script.js","field-file.js","sprite-svg--localstorage.js","dropdown.js"],"names":["closest","el","selector","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","call","parentElement","inputs","document","querySelectorAll","Array","prototype","forEach","input","label","querySelector","labelVal","innerHTML","addEventListener","e","fileName","this","files","length","getAttribute","replace","target","value","split","pop","window","file","revision","createElementNS","createSVGRect","request","data","isLocalStorage","insertIT","body","insertAdjacentHTML","insert","localStorage","getItem","XMLHttpRequest","open","onload","status","responseText","setItem","send","$","getParent","$this","attr","$parent","parent","clearMenus","console","log","which","backdrop","remove","toggle","each","relatedTarget","hasClass","type","test","tagName","contains","removeClass","trigger","Event","Plugin","option","Dropdown","element","on","VERSION","is","isActive","documentElement","createElement","addClass","insertAfter","toggleClass","keydown","preventDefault","stopPropagation","find","$items","index","eq","old","fn","dropdown","Constructor","noConflict","jQuery"],"mappings":"AAKA,QAAAA,SAAAC,EAAAC,GAGA,IAFA,KAAAC,GAAAF,EAAAG,SAAAH,EAAAI,uBAAAJ,EAAAK,oBAAAL,EAAAM,kBAEAN,GAAA,CACA,GAAAE,EAAAK,KAAAP,EAAAC,GACA,MAAAD,EAEAA,GAAAA,EAAAQ,cAGA,MAAA,OCTA,WAEA,GAAAC,GAAAC,SAAAC,iBAAA,qBACAC,OAAAC,UAAAC,QAAAP,KAAAE,EAAA,SAAAM,GAEA,GAAAC,GAAAD,EAAAhB,QAAA,eAAAkB,cAAA,0BACAC,EAAAF,EAAAG,SAEAJ,GAAAK,iBAAA,SAAA,SAAAC,GACA,GAAAC,GAAA,EAEAA,GADAC,KAAAC,OAAAD,KAAAC,MAAAC,OAAA,GACAF,KAAAG,aAAA,0BAAA,IAAAC,QAAA,UAAAJ,KAAAC,MAAAC,QAGAJ,EAAAO,OAAAC,MAAAC,MAAA,MAAAC,MAGAT,EACAN,EAAAG,UAAAG,EAGAN,EAAAG,UAAAD,SC3BA,SAAAc,EAAAtB,GACA,YAEA,IAAAuB,GAAA,yBACAC,EAAA,CAEA,KAAAxB,EAAAyB,kBAAAzB,EAAAyB,gBAAA,6BAAA,OAAAC,cACA,OAAA,CAGA,IACAC,GACAC,EAFAC,EAAA,gBAAAP,IAAA,OAAAA,EAAA,aAGAQ,EAAA,WACA9B,EAAA+B,KAAAC,mBAAA,aAAAJ,IAEAK,EAAA,WACAjC,EAAA+B,KAAAD,IACA9B,EAAAU,iBAAA,mBAAAoB,GAGA,IAAAD,GAAAK,aAAAC,QAAA,iBAAAX,IACAI,EAAAM,aAAAC,QAAA,kBAGA,MADAF,MACA,CAIA,KACAN,EAAA,GAAAS,gBACAT,EAAAU,KAAA,MAAAd,GAAA,GACAI,EAAAW,OAAA,WAEAX,EAAAY,QAAA,KAAAZ,EAAAY,OAAA,MACAX,EAAAD,EAAAa,aACAP,IACAJ,IACAK,aAAAO,QAAA,gBAAAb,GACAM,aAAAO,QAAA,eAAAjB,MAIAG,EAAAe,OAEA,MAAA/B,MAEAW,OAAAtB,WC1CA,SAAA2C,GACA,YAcA,SAAAC,GAAAC,GACA,GAAAtD,GAAAsD,EAAAC,KAAA,cAEAvD,KACAA,EAAAsD,EAAAC,KAAA,QAIA,IAAAC,GAAAxD,GAAAoD,EAAApD,EAEA,OAAAwD,IAAAA,EAAAhC,OAAAgC,EAAAF,EAAAG,SAGA,QAAAC,GAAAtC,GACAuC,QAAAC,IAAA,MAAAxC,GACAA,GAAA,IAAAA,EAAAyC,QACAT,EAAAU,GAAAC,SACAX,EAAAY,GAAAC,KAAA,WACA,GAAAX,GAAAF,EAAA9B,MACAkC,EAAAH,EAAAC,GACAY,GAAAA,cAAA5C,KAGAkC,GAAAW,SAAA,oBAEA/C,GAAA,SAAAA,EAAAgD,MAAA,kBAAAC,KAAAjD,EAAAO,OAAA2C,UAAAlB,EAAAmB,SAAAf,EAAA,GAAApC,EAAAO,UAOA2B,EAAAC,KAAA,gBAAA,SAEAC,EAAAgB,YAAA,kBAAAC,QAAArB,EAAAsB,MAAA,sBAAAR,SA0FA,QAAAS,GAAAC,GACA,MAAAtD,MAAA2C,KAAA,WACA,GAAAX,GAAAF,EAAA9B,MAEAe,EAAAiB,EAAAjB,KAAA,eAGAA,IAAAiB,EAAAjB,KAAA,eAAAA,EAAA,GAAAwC,GAAAvD,OACA,gBAAAsD,IAAAvC,EAAAuC,GAAAtE,KAAAgD,KA7IA,GAAAQ,GAAA,qBACAE,EAAA,2BACAa,EAAA,SAAAC,GAEA1B,EAAA0B,GAAAC,GAAA,qBAAAzD,KAAA0C,QAGAa,GAAAG,QAAA,QAwCAH,EAAAjE,UAAAoD,OAAA,SAAA5C,GACA,GAAAkC,GAAAF,EAAA9B,KAGA,KAAAgC,EAAA2B,GAAA,aAAA,CAEA,GAAAzB,GAAAH,EAAAC,GAEA4B,EAAA1B,EAAAW,SAAA,iBAMA,IAFAT,KAEAwB,EAAA,CAEA,gBAAAzE,UAAA0E,iBAEA/B,EAAA3C,SAAA2E,cAAA,QACAC,SAAA,qBACAC,YAAAlC,EAAA9B,OACAyD,GAAA,QAAArB,EAGA,IAAAQ,IAAAA,cAAA5C,KAMAgC,GACAmB,QAAA,SACAlB,KAAA,gBAAA,QAEAC,EAEA+B,YAAA,kBAEAd,QAAArB,EAAAsB,MAAA,qBAAAR,IAGA,OAAA,IAGAW,EAAAjE,UAAA4E,QAAA,SAAApE,GACA,GAAA,gBAAAiD,KAAAjD,EAAAyC,SAAA,kBAAAQ,KAAAjD,EAAAO,OAAA2C,SAAA,CAEAX,QAAAC,IAAAxC,EAAAyC,MAEA,IAAAP,GAAAF,EAAA9B,KAMA,IAJAF,EAAAqE,iBACArE,EAAAsE,mBAGApC,EAAA2B,GAAA,aAAA,CAEA,GAAAzB,GAAAH,EAAAC,GAEA4B,EAAA1B,EAAAW,SAAA,iBAEA,KAAAe,GAAA,IAAA9D,EAAAyC,OAAAqB,GAAA,IAAA9D,EAAAyC,MAEA,MADA,KAAAzC,EAAAyC,OAAAL,EAAAmC,KAAA3B,GAAAS,QAAA,SACAnB,EAAAmB,QAAA,QAKA,IAAAmB,GAAApC,EAAAmC,KAAA,oBAEA,IAAAC,EAAApE,OAAA,CAEA,GAAAqE,GAAAD,EAAAC,MAAAzE,EAAAO,OAEA,KAAAP,EAAAyC,OAAAgC,EAAA,GAAAA,IACA,IAAAzE,EAAAyC,OAAAgC,EAAAD,EAAApE,OAAA,GAAAqE,KACAA,IAAAA,EAAA,GAEAD,EAAAE,GAAAD,GAAApB,QAAA,SACAd,QAAAC,IAAAgC,EAAAE,GAAAD,OAmBA,IAAAE,GAAA3C,EAAA4C,GAAAC,QAEA7C,GAAA4C,GAAAC,SAAAtB,EACAvB,EAAA4C,GAAAC,SAAAC,YAAArB,EAMAzB,EAAA4C,GAAAC,SAAAE,WAAA,WAEA,MADA/C,GAAA4C,GAAAC,SAAAF,EACAzE,MAOA8B,EAAA3C,UAMAsE,GAAA,8BAAArB,GACAqB,GAAA,8BAAA,iBAAA,SAAA3D,GAAAA,EAAAsE,oBACAX,GAAA,8BAAAf,EAAAa,EAAAjE,UAAAoD,QACAe,GAAA,gCAAAf,EAAAa,EAAAjE,UAAA4E,SACAT,GAAA,gCAAA,kBAAAF,EAAAjE,UAAA4E,UAEAY","file":"script.min.js","sourcesContent":["/*\n  Поиск ближайшего родителя по селектору\n  https://github.com/oneuijs/You-Dont-Need-jQuery/blob/master/README-ru.md#1.6\n*/\n\nfunction closest(el, selector) {\n  const matchesSelector = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;\n\n  while (el) {\n    if (matchesSelector.call(el, selector)) {\n      return el;\n    } else {\n      el = el.parentElement;\n    }\n  }\n  return null;\n}\n\n\n\n// Свой код с jQuery\n\n// $( document ).ready(function() {\n\n// });\n","/*\n  Форма: работа стилизованного input[type=\"file\"]\n  Автор: Osvaldas Valutis, www.osvaldas.info (адаптировано под используемую разметку)\n  Available for use under the MIT License\n*/\n\n;( function ()\n{\n  var inputs = document.querySelectorAll( '.field-file__input' );\n  Array.prototype.forEach.call( inputs, function( input )\n  {\n    var label  = input.closest('.field-file').querySelector( '.field-file__name-text' ),\n        labelVal = label.innerHTML;\n\n    input.addEventListener( 'change', function( e ) {\n      var fileName = '';\n      if( this.files && this.files.length > 1 ) {\n        fileName = ( this.getAttribute( 'data-multiple-caption' ) || '' ).replace( '{count}', this.files.length );\n      }\n      else {\n        fileName = e.target.value.split( '\\\\' ).pop();\n      }\n\n      if( fileName ) {\n        label.innerHTML = fileName;\n      }\n      else {\n        label.innerHTML = labelVal;\n      }\n    });\n  });\n}());\n",";( function( window, document ) {\n  'use strict';\n\n  var file     = 'img/sprite-svg--ls.svg', // URL файла относительно страницы, на которой он используется (можно — абсолютный)\n      revision = 1;                        // Номер ревизии (сменить при обновлении спрайта)\n\n  if( !document.createElementNS || !document.createElementNS( 'http://www.w3.org/2000/svg', 'svg' ).createSVGRect ) {\n    return true;\n  }\n\n  var isLocalStorage = 'localStorage' in window && window[ 'localStorage' ] !== null,\n    request,\n    data,\n    insertIT = function() {\n      document.body.insertAdjacentHTML( 'afterbegin', data );\n    },\n    insert = function() {\n      if( document.body ) insertIT();\n      else document.addEventListener( 'DOMContentLoaded', insertIT );\n    };\n\n  if( isLocalStorage && localStorage.getItem( 'inlineSVGrev' ) == revision ) {\n    data = localStorage.getItem( 'inlineSVGdata' );\n    if( data ) {\n      insert();\n      return true;\n    }\n  }\n\n  try {\n    request = new XMLHttpRequest();\n    request.open( 'GET', file, true );\n    request.onload = function()\n    {\n      if( request.status >= 200 && request.status < 400 ) {\n        data = request.responseText;\n        insert();\n        if( isLocalStorage ) {\n          localStorage.setItem( 'inlineSVGdata',  data );\n          localStorage.setItem( 'inlineSVGrev',   revision );\n        }\n      }\n    }\n    request.send();\n  }\n  catch( e ){}\n\n}( window, document ) );\n","/* ========================================================================\n * Основано на: Bootstrap dropdown.js v3.3.6, изменения минимальны\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    // $(element).on('click.bs.dropdown', this.toggle)\n    $(element).on('click.nth.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.3.6'\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      // selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector && $(selector)\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n  function clearMenus(e) {\n    console.log('e: ' + e);\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      // if (!$parent.hasClass('open')) return\n      if (!$parent.hasClass('dropdown--open')) return\n\n      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return\n\n      // $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n      // $parent.trigger(e = $.Event('hide.nth.dropdown', relatedTarget))\n\n      // if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      // $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))\n      $parent.removeClass('dropdown--open').trigger($.Event('hidden.nth.dropdown', relatedTarget))\n    })\n  }\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    // if ($this.is('.disabled, :disabled')) return\n    if ($this.is(':disabled')) return\n\n    var $parent  = getParent($this)\n    // var isActive = $parent.hasClass('open')\n    var isActive = $parent.hasClass('dropdown--open')\n\n                              // console.log($this);\n\n    clearMenus()\n\n    if (!isActive) {\n      // if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n      if ('ontouchstart' in document.documentElement) {\n        // if mobile we use a backdrop because click events don't delegate\n        $(document.createElement('div'))\n          .addClass('dropdown-backdrop')\n          .insertAfter($(this))\n          .on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      // $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n      // $parent.trigger(e = $.Event('show.nth.dropdown', relatedTarget))\n\n      // if (e.isDefaultPrevented()) return\n\n      $this\n        .trigger('focus')\n        .attr('aria-expanded', 'true')\n\n      $parent\n        // .toggleClass('open')\n        .toggleClass('dropdown--open')\n        // .trigger($.Event('shown.bs.dropdown', relatedTarget))\n        .trigger($.Event('shown.nth.dropdown', relatedTarget))\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    console.log(e.which);\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    // if ($this.is('.disabled, :disabled')) return\n    if ($this.is(':disabled')) return\n\n    var $parent  = getParent($this)\n    // var isActive = $parent.hasClass('open')\n    var isActive = $parent.hasClass('dropdown--open')\n\n    if (!isActive && e.which != 27 || isActive && e.which == 27) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    // var desc = ' li:not(.disabled):visible a'\n    // var $items = $parent.find('.dropdown-menu' + desc)\n    var $items = $parent.find('.dropdown__menu a')\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--         // up\n    if (e.which == 40 && index < $items.length - 1) index++         // down\n    if (!~index)                                    index = 0\n\n    $items.eq(index).trigger('focus')\n    console.log($items.eq(index));\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      // var data  = $this.data('bs.dropdown')\n      var data  = $this.data('nth.dropdown')\n\n      // if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (!data) $this.data('nth.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    // .on('click.bs.dropdown.data-api', clearMenus)\n    // .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    // .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    // .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    // .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)\n    .on('click.nth.dropdown.data-api', clearMenus)\n    .on('click.nth.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.nth.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    .on('keydown.nth.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    .on('keydown.nth.dropdown.data-api', '.dropdown__menu', Dropdown.prototype.keydown)\n\n}(jQuery);\n"],"sourceRoot":"/source/"}